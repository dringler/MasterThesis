import org.apache.jena.query.Query;
import org.apache.jena.query.QueryExecution;
import org.apache.jena.query.QueryExecutionFactory;
import org.apache.jena.query.QueryFactory;
import org.apache.jena.query.ResultSet;
import org.apache.jena.sparql.engine.http.QueryExceptionHTTP;

public class eventClassCounts {
	public static void main(String[] args) {
		//Model m = ModelFactory.createDefaultModel();
		String service = "http://dbpedia.org/sparql";
		String queryString = "PREFIX owl: <http://www.w3.org/2002/07/owl#> SELECT ?class WHERE {?class a owl:Class . ?entity a ?class . } GROUP BY ?class LIMIT 10";
		Query query = QueryFactory.create(queryString);
		QueryExecution qe = QueryExecutionFactory.sparqlService(service, query);
		try {
			if(qe.execAsk()) {
				System.out.println(service + " is up");
			}
			ResultSet rs = qe.execSelect();

			while (rs.hasNext()) {
				String output = rs.next().toString();
				System.out.println(output);
			}
			
			
		} catch (QueryExceptionHTTP e) {
			System.out.println(service + " is down");
		} finally {
			qe.close();
		}
		
	}
}
